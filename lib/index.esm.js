import*as t from"ramda";const e=(t="v-line-clamp-value",e="v-dot-padding")=>{const n=t=>{const n=t.scrollHeight,r=t.getBoundingClientRect().height,o=parseFloat(t.getAttribute(e)||"none")||0;n>r&&t.insertAdjacentHTML("afterbegin",`\n                <span style="\n                    float: right;\n                    height: ${o}px;\n                    display: block;\n                "></span>\n                <span style="\n                    float: right;\n                    clear: both;\n                ">...</span>\n            `)};const r="webkitLineClamp"in document.body.style?void 0:function(t,r,o){const c=getComputedStyle(t).lineHeight.replace("px","");let a=parseFloat(c);if(r.lineHeight){const e=parseInt(r.lineHeight||"none");isNaN(e)?console.warn("line-height argument for vue-line-clamp must be a number (of pixels)"):(a=e,t.style.lineHeight=a+"px")}const i=a*o;t.style.maxHeight=i?i+"px":"",t.setAttribute(e,""+(i-a)),requestAnimationFrame((()=>{n(t)}))};return{addInitStyle:t=>{t.style.cssText+="\n            display: block;\n            display: -webkit-box;\n            -webkit-box-orient: vertical;\n            overflow: hidden;\n            word-break: break-all;\n            text-overflow: ellipsis;\n        "},truncateText:(e,o)=>{const c=parseInt(o.lineCount),a=parseInt(e.getAttribute(t)||"none");if(!isNaN(c))return c!==a?(e.setAttribute(t,`${c}`),void(r?r(e,o,c):e.style.webkitLineClamp=c?`${c}`:"")):void(r&&n(e));console.error("Parameter for vue-line-clamp must be a number")}}};function n(t,e){let n,r;return function(...o){const c=Date.now(),a=this;r&&c<r+e?n||(n=window.setTimeout((function(){r=Date.now(),n=0,t.apply(a,o)}),r+e-c)):(r=c,t.apply(a,o))}}var r=Object.freeze({__proto__:null,throttle:n,debounce:function(t,e){const n=this;let r;return function(...o){clearTimeout(r),r=window.setTimeout((function(){r=void 0,t.apply(n,o)}),e)}},toAsync:function(t){return new Promise((e=>{t.then((t=>{e({status:!0,response:t})})).catch((t=>{e({status:!1,error:t})}))}))}});function o(t){const e=t instanceof HTMLElement&&window.getComputedStyle(t).overflowY;return t?("auto"===e||"scroll"===e)&&t.scrollHeight>=t.clientHeight?t:o(t.parentNode)||document.scrollingElement:null}var c=Object.freeze({__proto__:null,getScrollParent:o});function a(t){const e=t.lazyAttr||"lazy",r=t.loadType||"src",c=t.loadingPath||"",a=new Map;let i;function s(n){switch(r){case"src":!function(n){const r=n.src;n.src=n.getAttribute(e)||"",n.onerror=function(){n.src=t.errorPath||r}}(n);break;case"background":n.style.backgroundImage=`url(${n.getAttribute(e)})`}n.removeAttribute(e)}function u(t){const e=o(t);return e.scrollTop+e.clientHeight>t.offsetTop}function l(t){const e=n(function(t){return()=>{u(t)&&(s(t),f(t))}}(t),500);a.set(t,e),window.addEventListener("scroll",e)}function f(t){a.has(t)&&(window.removeEventListener("scroll",a.get(t)),a.delete(t))}return"IntersectionObserver"in window&&(i=new IntersectionObserver((t=>{for(let e=0;e<t.length;e++){const n=t[e];if(n.isIntersecting){const t=n.target;s(t),i.unobserve(t)}}}))),function(){const t=document.querySelectorAll(`[${e}]`);for(let e=0;e<t.length;e++){const n=t[e];i?i.observe(n):l(n)}}(),{bindLazyLoad:function(t,n){if(c)switch(r){case"src":t.src=c;break;case"background":t.style.backgroundImage=`url(${c})`}t.setAttribute(e,n.imageUrl),i?i.observe(t):u(t)?s(t):l(t)},unBindLazyLoad:function(t){i?i.unobserve(t):f(t)}}}function i(t){return"touches"in t}function s(t,e){const n=t;if(n._tapEventMap)if(e)r(e);else for(const t of n._tapEventMap.keys())r(t);function r(e){if(!n._tapEventMap)return;const r=n._tapEventMap.get(e);r&&(r.click&&t.removeEventListener("click",r.click),r.touchStart&&t.removeEventListener("touchstart",r.touchStart),r.touchEnd&&t.removeEventListener("touchend",r.touchEnd),n._tapEventMap.delete(e))}}var u=Object.freeze({__proto__:null,bindTap:function(t,e,n){const r="ontouchend"in document,o=t;if(o._tapEventMap||(o._tapEventMap=new Map),r){const{touchStart:r,touchEnd:c}=function(t,e){let n=0,r=0,o=0,c=null;return{touchStart:function(e){const a=i(e)?e.touches[0]:e;n=a.clientX,r=a.clientY,o=Date.now(),c=e.currentTarget,t.stop&&e.stopPropagation(),t.prevent&&e.preventDefault()},touchEnd:function(a){const u=i(a)?a.changedTouches[0]:a,l=u.clientX-n,f=u.clientY-r,p=Date.now()-o,d=a.target;t.stop&&a.stopPropagation(),t.prevent&&a.preventDefault(),p<300&&Math.abs(l)<10&&Math.abs(f)<10&&(t.self&&c===d&&a.currentTarget===d||!t.self)&&(e(a),t.once&&s(d,e))}}}(n||{},e);t.addEventListener("touchstart",r),t.addEventListener("touchend",c),o._tapEventMap.set(e,{touchStart:r,touchEnd:c})}else{const r=function(t,e){return function(n){const r=n.target;t.stop&&n.stopPropagation(),t.prevent&&n.preventDefault(),e(n),t.once&&s(r,e)}}(n||{},e);t.addEventListener("click",r),o._tapEventMap.set(e,{click:r})}},unbindTap:s});function l(t=0,e=!1){if(Number.isNaN(+t))return t;const n=+t>0?"+":"",r=`${t}`.split(".");return`${e?n:""}${`${r[0]}`.replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,")}${r[1]?`.${r[1]}`:""}`}function f(t,e){let n=0;const r=t.toString(),o=e.toString();try{n+=r.split(".")[1].length}catch(t){}try{n+=o.split(".")[1].length}catch(t){}return Number(r.replace(".",""))*Number(o.replace(".",""))/Math.pow(10,n)}function p(t,e){let n=0,r=0;try{n=t.toString().split(".")[1].length}catch(t){}try{r=e.toString().split(".")[1].length}catch(t){}return f(Number(t.toString().replace(".",""))/Number(e.toString().replace(".","")),Math.pow(10,r-n))}var d=Object.freeze({__proto__:null,formatMoney:l,formatMoneyFixedTwo:function(t){return Number.isNaN(+t)?t:(`${t}`.split(".")[1]||"").length<2?l((+t).toFixed(2)):l(t)},formatOdds:function(t){return"string"==typeof t?t:t.toFixed(2)},accMul:f,accDiv:p,sizeTransToBytes:function(t=""){const e=["Bytes","KB","MB","GB","TB"];for(const[n,r]of e.entries())if(~t.indexOf(r)){return f(+t.replace(r,""),Math.pow(1024,n))}return 0},bytesTranslate:function(t=0){const e=`${t}`.length,n=[0,4,7,10,13];let r=0;for(;void 0!==n[r+1]&&e>=n[r+1];)r+=1;return`${+p(t,Math.pow(1024,r)).toFixed(2)}${["Bytes","KB","MB","GB","TB"][r]}`}});function g(t){return+t<10?`0${t}`:`${t}`}function h(t,e,n=!1){const r=n?t.getUTCFullYear():t.getFullYear(),o=(n?t.getUTCMonth():t.getMonth())+1,c=n?t.getUTCDate():t.getDate(),a=n?t.getUTCHours():t.getHours(),i=n?t.getUTCMinutes():t.getMinutes(),s=n?t.getUTCSeconds():t.getSeconds();return e.replace(/(YYYY|MM|DD|HH|mm|ss)/g,(t=>{switch(t){case"YYYY":return`${r}`;case"MM":return g(o);case"DD":return g(c);case"HH":return g(a);case"mm":return g(i);case"ss":return g(s);default:return t}}))}function b(t,e="",n=!1){let r=e?new Date(e):new Date,o=n?1:-1;Number.isNaN(r.getTime())&&(r=new Date);return r.getTime()+6e4*r.getTimezoneOffset()*o+36e5*t*o}var m=Object.freeze({__proto__:null,formatTime:function(t,e="YYYY-MM-DD HH:mm:ss"){return h(t,e)},formatUTCTime:function(t,e="YYYY-MM-DD HH:mm:ss"){return h(t,e,!0)},localTimeToZone:function(t,e=""){return b(t,e,!0)},zoneTimeToLocal:function(t,e=""){return b(t,e)},checkDate:function(t,e){return Date.parse(t.replace(/-/g,"/"))>Date.parse(e.replace(/-/g,"/"))?[e,t]:[t,e]}});function v(t,e){return Object.hasOwnProperty.call(t,e)}var y=Object.freeze({__proto__:null,setPropertyByPath:function(t,e,n){if(!e)return void console.warn("path 不可為空值");const r=e.split(".");let o=t;for(;r.length>1;)if(void 0===o[r[0]]&&(o[r[0]]={}),o=o[r.shift()],!(o instanceof Object))return void console.warn(`屬性 '${r[0]}' 非物件類別`);o[r[0]]=n},getPropertyByPath:function(t,e){const n=e.split(".");let r=t;try{for(;n.length>0;)r=r[n.shift()];return r}catch(n){return void console.warn("從物件",t,`上取路徑'${e}'失敗`)}},objHasProperty:v,dataIsSet:function(t){return Object.keys(t).length>0},isTwoLayArray:function(t){for(const e of t.values())if(Array.isArray(e))return!0;return!1},jsonArrayCovert:function(t){let e=[];try{e=JSON.parse(t)}catch(e){console.warn(`jsonArrayCovert => \`${t}\` fail`)}return e},zeroValueObject:function e(n,r=!0){const o=r?t.clone(n):n;return t.forEachObjIndexed(((t,n)=>{switch(typeof o[n]){case"number":o[n]=0;break;case"string":o[n]="";break;case"boolean":o[n]=!1;break;case"object":Object.keys(o[n]).length&&(o[n]=e(o[n],!1))}}),o),o},checkZeroObject:function e(n,r={}){let o=!0;return t.forEachObjIndexed(((t,n)=>{v(r,n)&&r[n]||("object"==typeof t?e(t)||(o=!1):t&&(o=!1))}),n),o}});export{c as domUtil,r as factoryUtil,a as lazyLoad,e as lineClamp,d as numberUtil,y as objectUtil,u as tapEvent,m as timeUtil};
