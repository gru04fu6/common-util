import{clone as t,forEachObjIndexed as e}from"ramda";const n=(t="v-line-clamp-value",e="v-dot-padding")=>{const n=t=>{const n=t.scrollHeight,r=t.getBoundingClientRect().height,o=parseFloat(t.getAttribute(e)||"none")||0;n>r&&t.insertAdjacentHTML("afterbegin",`\n                <span style="\n                    float: right;\n                    height: ${o}px;\n                    display: block;\n                "></span>\n                <span style="\n                    float: right;\n                    clear: both;\n                ">...</span>\n            `)};const r="webkitLineClamp"in document.body.style?void 0:function(t,r,o){const c=getComputedStyle(t).lineHeight.replace("px","");let a=parseFloat(c);if(r.lineHeight){const e=parseInt(r.lineHeight||"none");isNaN(e)?console.warn("line-height argument for vue-line-clamp must be a number (of pixels)"):(a=e,t.style.lineHeight=a+"px")}const i=a*o;t.style.maxHeight=i?i+"px":"",t.setAttribute(e,""+(i-a)),requestAnimationFrame((()=>{n(t)}))};return{addInitStyle:t=>{t.style.cssText+="\n            display: block;\n            display: -webkit-box;\n            -webkit-box-orient: vertical;\n            overflow: hidden;\n            word-break: break-all;\n            text-overflow: ellipsis;\n        "},truncateText:(e,o)=>{const c=parseInt(o.lineCount),a=parseInt(e.getAttribute(t)||"none");if(!isNaN(c))return c!==a?(e.setAttribute(t,`${c}`),void(r?r(e,o,c):e.style.webkitLineClamp=c?`${c}`:"")):void(r&&n(e));console.error("Parameter for vue-line-clamp must be a number")}}};function r(t){const e=t.lazyAttr||"lazy",n=t.loadType||"src",r=t.loadingPath||"",o=new Map;let c;function a(r){switch(n){case"src":!function(n){const r=n.src;n.src=n.getAttribute(e)||"",n.onerror=function(){n.src=t.errorPath||r}}(r);break;case"background":r.style.backgroundImage=`url(${r.getAttribute(e)})`}r.removeAttribute(e)}function i(t){return window.scrollY+window.innerHeight>t.offsetTop}function s(t){const e=function(t,e){let n,r;return function(...o){const c=Date.now(),a=this;if(r||(r=c),clearTimeout(n),c-r>e)return r=c,t.apply(a,o),void clearTimeout(n);n=window.setTimeout((function(){r=Date.now(),n=0,t.apply(a,o)}),e)}}(function(t){return()=>{i(t)&&(a(t),u(t))}}(t),500);o.set(t,e),window.addEventListener("scroll",e)}function u(t){o.has(t)&&(window.removeEventListener("scroll",o.get(t)),o.delete(t))}return IntersectionObserver&&(c=new IntersectionObserver((t=>{for(let e=0;e<t.length;e++){const n=t[e];if(n.isIntersecting){const t=n.target;a(t),c.unobserve(t)}}}))),function(){const t=document.querySelectorAll(`[${e}]`);for(let e=0;e<t.length;e++){const n=t[e];c?c.observe(n):s(n)}}(),{bindLazyLoad:function(t,o){switch(n){case"src":t.src=r;break;case"background":t.style.backgroundImage=`url(${r})`}t.setAttribute(e,o.imageUrl),c?c.observe(t):i(t)?a(t):s(t)},unBindLazyLoad:function(t){c?c.unobserve(t):u(t)}}}const o="ontouchend"in document;function c(t){return"touches"in t}function a(t,e){const n=t;if(n._tapEventMap)if(e)r(e);else for(const t of n._tapEventMap.keys())r(t);function r(e){if(!n._tapEventMap)return;const r=n._tapEventMap.get(e);r&&(r.click&&t.removeEventListener("click",r.click),r.touchStart&&t.removeEventListener("touchstart",r.touchStart),r.touchEnd&&t.removeEventListener("touchend",r.touchEnd),n._tapEventMap.delete(e))}}var i=Object.freeze({__proto__:null,bindTap:function(t,e,n){const r=t;if(r._tapEventMap||(r._tapEventMap=new Map),o){const{touchStart:o,touchEnd:i}=function(t,e){let n=0,r=0,o=0,i=null;return{touchStart:function(e){const a=c(e)?e.touches[0]:e;n=a.clientX,r=a.clientY,o=Date.now(),i=e.currentTarget,t.stop&&e.stopPropagation(),t.prevent&&e.preventDefault()},touchEnd:function(s){const u=c(s)?s.changedTouches[0]:s,l=u.clientX-n,p=u.clientY-r,f=Date.now()-o,d=s.target;t.stop&&s.stopPropagation(),t.prevent&&s.preventDefault(),f<300&&Math.abs(l)<10&&Math.abs(p)<10&&(t.self&&i===d&&s.currentTarget===d||!t.self)&&(e(s),t.once&&a(d,e))}}}(n||{},e);t.addEventListener("touchstart",o),t.addEventListener("touchend",i),r._tapEventMap.set(e,{touchStart:o,touchEnd:i})}else{const o=function(t,e){return function(n){const r=n.target;t.stop&&n.stopPropagation(),t.prevent&&n.preventDefault(),e(n),t.once&&a(r,e)}}(n||{},e);t.addEventListener("click",o),r._tapEventMap.set(e,{click:o})}},unbindTap:a});function s(t=0,e=!1){if(Number.isNaN(+t))return t;const n=+t>0?"+":"",r=`${t}`.split(".");return`${e?n:""}${`${r[0]}`.replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,")}${r[1]?`.${r[1]}`:""}`}function u(t,e){let n=0;const r=t.toString(),o=e.toString();try{n+=r.split(".")[1].length}catch(t){}try{n+=o.split(".")[1].length}catch(t){}return Number(r.replace(".",""))*Number(o.replace(".",""))/Math.pow(10,n)}function l(t,e){let n=0,r=0;try{n=t.toString().split(".")[1].length}catch(t){}try{r=e.toString().split(".")[1].length}catch(t){}return u(Number(t.toString().replace(".",""))/Number(e.toString().replace(".","")),Math.pow(10,r-n))}var p=Object.freeze({__proto__:null,formatMoney:s,formatMoneyFixedTwo:function(t){return Number.isNaN(+t)?t:(`${t}`.split(".")[1]||"").length<2?s((+t).toFixed(2)):s(t)},formatOdds:function(t){return"string"==typeof t?t:t.toFixed(2)},accMul:u,accDiv:l,sizeTransToBytes:function(t=""){const e=["Bytes","KB","MB","GB","TB"];for(const[n,r]of e.entries())if(~t.indexOf(r)){return u(+t.replace(r,""),Math.pow(1024,n))}return 0},bytesTranslate:function(t=0){const e=`${t}`.length,n=[0,4,7,10,13];let r=0;for(;void 0!==n[r+1]&&e>=n[r+1];)r+=1;return`${l(t,Math.pow(1024,r)).toFixed(2)}${["Bytes","KB","MB","GB","TB"][r]}`}});function f(t){return+t<10?`0${t}`:`${t}`}function d(t,e,n=!1){const r=n?t.getUTCFullYear():t.getFullYear(),o=(n?t.getUTCMonth():t.getMonth())+1,c=n?t.getUTCDate():t.getDate(),a=n?t.getUTCHours():t.getHours(),i=n?t.getUTCMinutes():t.getMinutes(),s=n?t.getUTCSeconds():t.getSeconds();return e.replace(/(YYYY|MM|DD|HH|mm|ss)/g,(t=>{switch(t){case"YYYY":return`${r}`;case"MM":return f(o);case"DD":return f(c);case"HH":return f(a);case"mm":return f(i);case"ss":return f(s);default:return t}}))}function g(t,e="",n=!1){let r=e?new Date(e):new Date,o=n?1:-1;Number.isNaN(r.getTime())&&(r=new Date);return r.getTime()+6e4*r.getTimezoneOffset()*o+36e5*t*o}var h=Object.freeze({__proto__:null,formatTime:function(t,e="YYYY-MM-DD HH:mm:ss"){return d(t,e)},formatUTCTime:function(t,e="YYYY-MM-DD HH:mm:ss"){return d(t,e,!0)},localTimeToZone:function(t,e=""){return g(t,e,!0)},zoneTimeToLocal:function(t,e=""){return g(t,e)},checkDate:function(t,e){return Date.parse(t.replace(/-/g,"/"))>Date.parse(e.replace(/-/g,"/"))?[e,t]:[t,e]}});function m(t,e){return Object.hasOwnProperty.call(t,e)}var b=Object.freeze({__proto__:null,setPropertyByPath:function(t,e,n){const r=e.split(".");let o=t;for(;r.length>1;)void 0===o[r[0]]&&(o[r[0]]={}),o=o[r.shift()];o[r[0]]=n},getPropertyByPath:function(t,e){const n=e.split(".");let r=t;try{for(;n.length>0;)r=r[n.shift()];return r}catch(n){return void console.warn("從物件",t,`上取路徑'${e}'失敗`)}},objHasProperty:m,dataIsSet:function(t){return Object.keys(t).length>0},isTwoLayArray:function(t){for(const e of t.values())if(Array.isArray(e))return!0;return!1},jsonArrayCovert:function(t){let e=[];try{e=JSON.parse(t)}catch(e){console.warn(`jsonArrayCovert => \`${t}\` fail`)}return e},zeroValueObject:function(n){const r=t(n);return e(((t,e)=>{switch(typeof r[e]){case"number":r[e]=0;break;case"string":r[e]="";break;case"boolean":r[e]=!1}}),r),r},checkZeroObject:function t(n,r={}){let o=!0;return e(((e,n)=>{m(r,n)&&r[n]||("object"==typeof e?t(e)||(o=!1):e&&(o=!1))}),n),o}});var v=Object.freeze({__proto__:null,throttle:function(t,e){let n,r;return function(...o){const c=Date.now(),a=this;if(r||(r=c),clearTimeout(n),c-r>e)return r=c,t.apply(a,o),void clearTimeout(n);n=window.setTimeout((function(){r=Date.now(),n=0,t.apply(a,o)}),e)}},debounce:function(t,e){let n;return function(...r){const o=this;clearTimeout(n),n=window.setTimeout((function(){n=void 0,t.apply(o,r)}),e)}},toAsync:function(t){return new Promise((e=>{t.then((t=>{e({status:!0,response:t})})).catch((t=>{e({status:!1,error:t})}))}))}});export{v as factoryUtil,r as lazyLoad,n as lineClamp,p as numberUtil,b as objectUtil,i as tapEvent,h as timeUtil};
