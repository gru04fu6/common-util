import{clone as t,forEachObjIndexed as e}from"ramda";const n=(t="v-line-clamp-value",e="v-dot-padding")=>{const n=t=>{const n=t.scrollHeight,r=t.getBoundingClientRect().height,o=parseFloat(t.getAttribute(e)||"none")||0;n>r&&t.insertAdjacentHTML("afterbegin",`\n                <span style="\n                    float: right;\n                    height: ${o}px;\n                    display: block;\n                "></span>\n                <span style="\n                    float: right;\n                    clear: both;\n                ">...</span>\n            `)};const r="webkitLineClamp"in document.body.style?void 0:function(t,r,o){const c=getComputedStyle(t).lineHeight.replace("px","");let a=parseFloat(c);if(r.lineHeight){const e=parseInt(r.lineHeight||"none");isNaN(e)?console.warn("line-height argument for vue-line-clamp must be a number (of pixels)"):(a=e,t.style.lineHeight=a+"px")}const i=a*o;t.style.maxHeight=i?i+"px":"",t.setAttribute(e,""+(i-a)),requestAnimationFrame((()=>{n(t)}))};return{addInitStyle:t=>{t.style.cssText+="\n            display: block;\n            display: -webkit-box;\n            -webkit-box-orient: vertical;\n            overflow: hidden;\n            word-break: break-all;\n            text-overflow: ellipsis;\n        "},truncateText:(e,o)=>{const c=parseInt(o.lineCount),a=parseInt(e.getAttribute(t)||"none");if(!isNaN(c))return c!==a?(e.setAttribute(t,`${c}`),void(r?r(e,o,c):e.style.webkitLineClamp=c?`${c}`:"")):void(r&&n(e));console.error("Parameter for vue-line-clamp must be a number")}}};function r(t,e){let n,r;return function(...o){const c=Date.now(),a=this;r&&c<r+e?n||(n=window.setTimeout((function(){r=Date.now(),n=0,t.apply(a,o)}),r+e-c)):(r=c,t.apply(a,o))}}var o=Object.freeze({__proto__:null,throttle:r,debounce:function(t,e){const n=this;let r;return function(...o){clearTimeout(r),r=window.setTimeout((function(){r=void 0,t.apply(n,o)}),e)}},toAsync:function(t){return new Promise((e=>{t.then((t=>{e({status:!0,response:t})})).catch((t=>{e({status:!1,error:t})}))}))}});function c(t){const e=t instanceof HTMLElement&&window.getComputedStyle(t).overflowY;return t?("auto"===e||"scroll"===e)&&t.scrollHeight>=t.clientHeight?t:c(t.parentNode)||document.scrollingElement:null}var a=Object.freeze({__proto__:null,getScrollParent:c});function i(t){const e=t.lazyAttr||"lazy",n=t.loadType||"src",o=t.loadingPath||"",a=new Map;let i;function s(r){switch(n){case"src":!function(n){const r=n.src;n.src=n.getAttribute(e)||"",n.onerror=function(){n.src=t.errorPath||r}}(r);break;case"background":r.style.backgroundImage=`url(${r.getAttribute(e)})`}r.removeAttribute(e)}function u(t){const e=c(t);return e.scrollTop+e.clientHeight>t.offsetTop}function l(t){const e=r(function(t){return()=>{u(t)&&(s(t),p(t))}}(t),500);a.set(t,e),window.addEventListener("scroll",e)}function p(t){a.has(t)&&(window.removeEventListener("scroll",a.get(t)),a.delete(t))}return"IntersectionObserver"in window&&(i=new IntersectionObserver((t=>{for(let e=0;e<t.length;e++){const n=t[e];if(n.isIntersecting){const t=n.target;s(t),i.unobserve(t)}}}))),function(){const t=document.querySelectorAll(`[${e}]`);for(let e=0;e<t.length;e++){const n=t[e];i?i.observe(n):l(n)}}(),{bindLazyLoad:function(t,r){if(o)switch(n){case"src":t.src=o;break;case"background":t.style.backgroundImage=`url(${o})`}t.setAttribute(e,r.imageUrl),i?i.observe(t):u(t)?s(t):l(t)},unBindLazyLoad:function(t){i?i.unobserve(t):p(t)}}}function s(t){return"touches"in t}function u(t,e){const n=t;if(n._tapEventMap)if(e)r(e);else for(const t of n._tapEventMap.keys())r(t);function r(e){if(!n._tapEventMap)return;const r=n._tapEventMap.get(e);r&&(r.click&&t.removeEventListener("click",r.click),r.touchStart&&t.removeEventListener("touchstart",r.touchStart),r.touchEnd&&t.removeEventListener("touchend",r.touchEnd),n._tapEventMap.delete(e))}}var l=Object.freeze({__proto__:null,bindTap:function(t,e,n){const r="ontouchend"in document,o=t;if(o._tapEventMap||(o._tapEventMap=new Map),r){const{touchStart:r,touchEnd:c}=function(t,e){let n=0,r=0,o=0,c=null;return{touchStart:function(e){const a=s(e)?e.touches[0]:e;n=a.clientX,r=a.clientY,o=Date.now(),c=e.currentTarget,t.stop&&e.stopPropagation(),t.prevent&&e.preventDefault()},touchEnd:function(a){const i=s(a)?a.changedTouches[0]:a,l=i.clientX-n,p=i.clientY-r,f=Date.now()-o,g=a.target;t.stop&&a.stopPropagation(),t.prevent&&a.preventDefault(),f<300&&Math.abs(l)<10&&Math.abs(p)<10&&(t.self&&c===g&&a.currentTarget===g||!t.self)&&(e(a),t.once&&u(g,e))}}}(n||{},e);t.addEventListener("touchstart",r),t.addEventListener("touchend",c),o._tapEventMap.set(e,{touchStart:r,touchEnd:c})}else{const r=function(t,e){return function(n){const r=n.target;t.stop&&n.stopPropagation(),t.prevent&&n.preventDefault(),e(n),t.once&&u(r,e)}}(n||{},e);t.addEventListener("click",r),o._tapEventMap.set(e,{click:r})}},unbindTap:u});function p(t=0,e=!1){if(Number.isNaN(+t))return t;const n=+t>0?"+":"",r=`${t}`.split(".");return`${e?n:""}${`${r[0]}`.replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,")}${r[1]?`.${r[1]}`:""}`}function f(t,e){let n=0;const r=t.toString(),o=e.toString();try{n+=r.split(".")[1].length}catch(t){}try{n+=o.split(".")[1].length}catch(t){}return Number(r.replace(".",""))*Number(o.replace(".",""))/Math.pow(10,n)}function g(t,e){let n=0,r=0;try{n=t.toString().split(".")[1].length}catch(t){}try{r=e.toString().split(".")[1].length}catch(t){}return f(Number(t.toString().replace(".",""))/Number(e.toString().replace(".","")),Math.pow(10,r-n))}var d=Object.freeze({__proto__:null,formatMoney:p,formatMoneyFixedTwo:function(t){return Number.isNaN(+t)?t:(`${t}`.split(".")[1]||"").length<2?p((+t).toFixed(2)):p(t)},formatOdds:function(t){return"string"==typeof t?t:t.toFixed(2)},accMul:f,accDiv:g,sizeTransToBytes:function(t=""){const e=["Bytes","KB","MB","GB","TB"];for(const[n,r]of e.entries())if(~t.indexOf(r)){return f(+t.replace(r,""),Math.pow(1024,n))}return 0},bytesTranslate:function(t=0){const e=`${t}`.length,n=[0,4,7,10,13];let r=0;for(;void 0!==n[r+1]&&e>=n[r+1];)r+=1;return`${+g(t,Math.pow(1024,r)).toFixed(2)}${["Bytes","KB","MB","GB","TB"][r]}`}});function h(t){return+t<10?`0${t}`:`${t}`}function b(t,e,n=!1){const r=n?t.getUTCFullYear():t.getFullYear(),o=(n?t.getUTCMonth():t.getMonth())+1,c=n?t.getUTCDate():t.getDate(),a=n?t.getUTCHours():t.getHours(),i=n?t.getUTCMinutes():t.getMinutes(),s=n?t.getUTCSeconds():t.getSeconds();return e.replace(/(YYYY|MM|DD|HH|mm|ss)/g,(t=>{switch(t){case"YYYY":return`${r}`;case"MM":return h(o);case"DD":return h(c);case"HH":return h(a);case"mm":return h(i);case"ss":return h(s);default:return t}}))}function m(t,e="",n=!1){let r=e?new Date(e):new Date,o=n?1:-1;Number.isNaN(r.getTime())&&(r=new Date);return r.getTime()+6e4*r.getTimezoneOffset()*o+36e5*t*o}var v=Object.freeze({__proto__:null,formatTime:function(t,e="YYYY-MM-DD HH:mm:ss"){return b(t,e)},formatUTCTime:function(t,e="YYYY-MM-DD HH:mm:ss"){return b(t,e,!0)},localTimeToZone:function(t,e=""){return m(t,e,!0)},zoneTimeToLocal:function(t,e=""){return m(t,e)},checkDate:function(t,e){return Date.parse(t.replace(/-/g,"/"))>Date.parse(e.replace(/-/g,"/"))?[e,t]:[t,e]}});function y(t,e){return Object.hasOwnProperty.call(t,e)}var w=Object.freeze({__proto__:null,setPropertyByPath:function(t,e,n){if(!e)return void console.warn("path 不可為空值");const r=e.split(".");let o=t;for(;r.length>1;)if(void 0===o[r[0]]&&(o[r[0]]={}),o=o[r.shift()],!(o instanceof Object))return void console.warn(`屬性 '${r[0]}' 非物件類別`);o[r[0]]=n},getPropertyByPath:function(t,e){const n=e.split(".");let r=t;try{for(;n.length>0;)r=r[n.shift()];return r}catch(n){return void console.warn("從物件",t,`上取路徑'${e}'失敗`)}},objHasProperty:y,dataIsSet:function(t){return Object.keys(t).length>0},isTwoLayArray:function(t){for(const e of t.values())if(Array.isArray(e))return!0;return!1},jsonArrayCovert:function(t){let e=[];try{e=JSON.parse(t)}catch(e){console.warn(`jsonArrayCovert => \`${t}\` fail`)}return e},zeroValueObject:function n(r,o=!0){const c=o?t(r):r;return e(((t,e)=>{switch(typeof c[e]){case"number":c[e]=0;break;case"string":c[e]="";break;case"boolean":c[e]=!1;break;case"object":Object.keys(c[e]).length&&(c[e]=n(c[e],!1))}}),c),c},checkZeroObject:function t(n,r={}){let o=!0;return e(((e,n)=>{y(r,n)&&r[n]||("object"==typeof e?t(e)||(o=!1):e&&(o=!1))}),n),o}});export{a as domUtil,o as factoryUtil,i as lazyLoad,n as lineClamp,d as numberUtil,w as objectUtil,l as tapEvent,v as timeUtil};
