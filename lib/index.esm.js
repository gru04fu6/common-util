import{clone as t,forEachObjIndexed as e}from"ramda";const n=(t="v-line-clamp-value",e="v-dot-padding")=>{const n=t=>{const n=t.scrollHeight,r=t.getBoundingClientRect().height,o=parseFloat(t.getAttribute(e)||"none")||0;n>r&&t.insertAdjacentHTML("afterbegin",`\n                <span style="\n                    float: right;\n                    height: ${o}px;\n                    display: block;\n                "></span>\n                <span style="\n                    float: right;\n                    clear: both;\n                ">...</span>\n            `)};const r="webkitLineClamp"in document.body.style?void 0:function(t,r,o){const i=getComputedStyle(t).lineHeight.replace("px","");let c=parseFloat(i);if(r.lineHeight){const e=parseInt(r.lineHeight||"none");isNaN(e)?console.warn("line-height argument for vue-line-clamp must be a number (of pixels)"):(c=e,t.style.lineHeight=c+"px")}const s=c*o;t.style.maxHeight=s?s+"px":"",t.setAttribute(e,""+(s-c)),requestAnimationFrame((()=>{n(t)}))};return{addInitStyle:t=>{t.style.cssText+="\n            display: block;\n            display: -webkit-box;\n            -webkit-box-orient: vertical;\n            overflow: hidden;\n            word-break: break-all;\n            text-overflow: ellipsis;\n        "},truncateText:(e,o)=>{const i=parseInt(o.lineCount),c=parseInt(e.getAttribute(t)||"none");if(!isNaN(i))return i!==c?(e.setAttribute(t,`${i}`),void(r?r(e,o,i):e.style.webkitLineClamp=i?`${i}`:"")):void(r&&n(e));console.error("Parameter for vue-line-clamp must be a number")}}};function r(t){const e=t.lazyAttr||"lazy",n=t.loadType||"src",r=t.loadingPath||"",o=new Map;let i;function c(r){switch(n){case"src":!function(n){const r=n.src;n.src=n.getAttribute(e)||"",n.onerror=function(){n.src=t.errorPath||r}}(r);break;case"background":r.style.backgroundImage=`url(${r.getAttribute(e)})`}r.removeAttribute(e)}function s(t){return window.scrollY+window.innerHeight>t.offsetTop}function a(t){const e=function(t,e){let n,r;return function(...o){const i=Date.now(),c=this;if(r||(r=i),clearTimeout(n),i-r>e)return r=i,t.apply(c,o),void clearTimeout(n);n=window.setTimeout((function(){r=Date.now(),n=0,t.apply(c,o)}),e)}}(function(t){return()=>{s(t)&&(c(t),u(t))}}(t),500);o.set(t,e),window.addEventListener("scroll",e)}function u(t){o.has(t)&&(window.removeEventListener("scroll",o.get(t)),o.delete(t))}return IntersectionObserver&&(i=new IntersectionObserver((t=>{for(let e=0;e<t.length;e++){const n=t[e];if(n.isIntersecting){const t=n.target;c(t),i.unobserve(t)}}}))),function(){const t=document.querySelectorAll(`[${e}]`);for(let e=0;e<t.length;e++){const n=t[e];i?i.observe(n):a(n)}}(),{bindLazyLoad:function(t,o){switch(n){case"src":t.src=r;break;case"background":t.style.backgroundImage=`url(${r})`}t.setAttribute(e,o.imageUrl),i?i.observe(t):s(t)?c(t):a(t)},unBindLazyLoad:function(t){i?i.unobserve(t):u(t)}}}function o(t=0,e=!1){if(Number.isNaN(+t))return t;const n=+t>0?"+":"",r=`${t}`.split(".");return`${e?n:""}${`${r[0]}`.replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,")}${r[1]?`.${r[1]}`:""}`}function i(t,e){let n=0;const r=t.toString(),o=e.toString();try{n+=r.split(".")[1].length}catch(t){}try{n+=o.split(".")[1].length}catch(t){}return Number(r.replace(".",""))*Number(o.replace(".",""))/Math.pow(10,n)}function c(t,e){let n=0,r=0;try{n=t.toString().split(".")[1].length}catch(t){}try{r=e.toString().split(".")[1].length}catch(t){}return i(Number(t.toString().replace(".",""))/Number(e.toString().replace(".","")),Math.pow(10,r-n))}var s=Object.freeze({__proto__:null,formatMoney:o,formatMoneyFixedTwo:function(t){return Number.isNaN(+t)?t:(`${t}`.split(".")[1]||"").length<2?o((+t).toFixed(2)):o(t)},formatOdds:function(t){return"string"==typeof t?t:t.toFixed(2)},accMul:i,accDiv:c,sizeTransToBytes:function(t=""){const e=["Bytes","KB","MB","GB","TB"];for(const[n,r]of e.entries())if(~t.indexOf(r)){return i(+t.replace(r,""),Math.pow(1024,n))}return 0},bytesTranslate:function(t=0){const e=`${t}`.length,n=[0,4,7,10,13];let r=0;for(;void 0!==n[r+1]&&e>=n[r+1];)r+=1;return`${c(t,Math.pow(1024,r)).toFixed(2)}${["Bytes","KB","MB","GB","TB"][r]}`}});function a(t){return+t<10?`0${t}`:`${t}`}function u(t,e,n=!1){const r=n?t.getUTCFullYear():t.getFullYear(),o=(n?t.getUTCMonth():t.getMonth())+1,i=n?t.getUTCDate():t.getDate(),c=n?t.getUTCHours():t.getHours(),s=n?t.getUTCMinutes():t.getMinutes(),u=n?t.getUTCSeconds():t.getSeconds();return e.replace(/(YYYY|MM|DD|HH|mm|ss)/g,(t=>{switch(t){case"YYYY":return`${r}`;case"MM":return a(o);case"DD":return a(i);case"HH":return a(c);case"mm":return a(s);case"ss":return a(u);default:return t}}))}function l(t,e="",n=!1){let r=e?new Date(e):new Date,o=n?1:-1;Number.isNaN(r.getTime())&&(r=new Date);return r.getTime()+6e4*r.getTimezoneOffset()*o+36e5*t*o}var f=Object.freeze({__proto__:null,formatTime:function(t,e="YYYY-MM-DD - HH:mm:ss"){return u(t,e)},formatUTCTime:function(t,e="YYYY-MM-DD - HH:mm:ss"){return u(t,e,!0)},localTimeToZone:function(t,e=""){return l(t,e,!0)},zoneTimeToLocal:function(t,e=""){return l(t,e)},checkDate:function(t,e){return Date.parse(t.replace(/-/g,"/"))>Date.parse(e.replace(/-/g,"/"))?[e,t]:[t,e]}});function p(t,e){return Object.hasOwnProperty.call(t,e)}var g=Object.freeze({__proto__:null,setPropertyByPath:function(t,e,n){const r=e.split(".");let o=t;for(;r.length>1;)void 0===o[r[0]]&&(o[r[0]]={}),o=o[r.shift()];o[r[0]]=n},getPropertyByPath:function(t,e){const n=e.split(".");let r=t;try{for(;n.length>0;)r=r[n.shift()];return r}catch(n){return void console.warn("從物件",t,`上取路徑'${e}'失敗`)}},objHasProperty:p,dataIsSet:function(t){return Object.keys(t).length>0},isTwoLayArray:function(t){for(const e of t.values())if(Array.isArray(e))return!0;return!1},jsonArrayCovert:function(t){let e=[];try{e=JSON.parse(t)}catch(e){console.warn(`jsonArrayCovert => \`${t}\` fail`)}return e},zeroValueObject:function(n){const r=t(n);return e(((t,e)=>{switch(typeof r[e]){case"number":r[e]=0;break;case"string":r[e]="";break;case"boolean":r[e]=!1}}),r),r},checkZeroObject:function t(n,r={}){let o=!0;return e(((e,n)=>{p(r,n)&&r[n]||("object"==typeof e?t(e)||(o=!1):e&&(o=!1))}),n),o}});var d=Object.freeze({__proto__:null,throttle:function(t,e){let n,r;return function(...o){const i=Date.now(),c=this;if(r||(r=i),clearTimeout(n),i-r>e)return r=i,t.apply(c,o),void clearTimeout(n);n=window.setTimeout((function(){r=Date.now(),n=0,t.apply(c,o)}),e)}},debounce:function(t,e){let n;return function(...r){const o=this;clearTimeout(n),n=window.setTimeout((function(){n=void 0,t.apply(o,r)}),e)}},toAsync:function(t){return new Promise((e=>{t.then((t=>{e({status:!0,response:t})})).catch((t=>{e({status:!1,error:t})}))}))}});export{d as factoryUtil,r as lazyLoad,n as lineClamp,s as numberUtil,g as objectUtil,f as timeUtil};
